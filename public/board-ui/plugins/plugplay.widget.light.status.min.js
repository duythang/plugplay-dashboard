!function(){freeboard.loadWidgetPlugin({type_name:"status_light",display_name:"Light (Status)",description:"A Status Light can recieves 3 input values",settings:[{name:"title",display_name:"Title",type:"text",required:!0},{name:"value",display_name:"Value",type:"calculated"},{name:"min_value",display_name:"Minimum",type:"text",required:!0},{name:"normal_value",display_name:"Normal",type:"text",required:!0},{name:"max_value",display_name:"Maximum",type:"text",required:!0},{name:"min_text",display_name:"Minimum Text",type:"text"},{name:"normal_text",display_name:"Normal Text",type:"text"},{name:"max_text",display_name:"Max Text",type:"text"}],newInstance:function(t,a){a(new e(t))}}),freeboard.addStyle(".indicator-slight","border-radius:50%;width:22px;height:22px;border:2px solid #3d3d3d;float:left;margin-top:5px;margin-left:0px;margin-right:10px;background-color:#909090;"),freeboard.addStyle(".indicator-slight.onYellow","background-color:#FFC773;box-shadow: 0px 0px 15px #FF9900;border-color:#FDF1DF;"),freeboard.addStyle(".indicator-slight.onRed","background-color:#F00003;box-shadow: 0px 0px 15px #FF9900;border-color:#FDF1DF;"),freeboard.addStyle(".indicator-slight.onGreen","background-color:#00FF00;box-shadow: 0px 0px 15px #FF9900;border-color:#FDF1DF;"),freeboard.addStyle(".indicator-slight-text","margin-top:10px;");var e=function(e){function t(){switch(m){case"off":g.toggleClass("onRed",!1),g.toggleClass("onGreen",!1),g.toggleClass("onYellow",!1),s.text("OFF");break;case"yellow":g.toggleClass("onRed",!1),g.toggleClass("onGreen",!1),g.toggleClass("onYellow",!0),s.text(_.isUndefined(a)?_.isUndefined(x.min_text)?"":x.min_text:a);break;case"green":g.toggleClass("onRed",!1),g.toggleClass("onYellow",!1),g.toggleClass("onGreen",!0),s.text(_.isUndefined(n)?_.isUndefined(x.normal_text)?"":x.normal_text:n);break;case"red":g.toggleClass("onYellow",!1),g.toggleClass("onGreen",!1),g.toggleClass("onRed",!0),s.text(_.isUndefined(i)?_.isUndefined(x.max_text)?"":x.max_text:i)}l=Number(x.min_value),o=Number(x.normal_value),r=Number(x.max_value)}var a,n,i,l,o,r,d=$('<h2 class="section-title"></h2>'),s=$('<div class="indicator-slight-text"></div>'),g=$('<div class="indicator-slight"></div>'),x=e,m="off";this.render=function(e){$(e).append(d).append(g).append(s)},this.onSettingsChanged=function(e){x=e,d.html(_.isUndefined(e.title)?"":e.title),t()},this.onCalculatedValueChanged=function(e,d){switch(e){case"value":var s=d;if(l>=s)m="off";else if(s>l&&o>=s)m="yellow";else if(s>o&&r>=s)m="green";else{if(!(s>r))return;m="red"}break;case"min_text":a=d;break;case"normal_text":n=d;break;case"max_text":i=d;break;default:return}t()},this.onDispose=function(){},this.getHeight=function(){return 1},this.onSettingsChanged(e)}}();