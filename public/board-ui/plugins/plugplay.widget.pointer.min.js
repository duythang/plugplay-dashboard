!function(){freeboard.loadWidgetPlugin({type_name:"pointer",display_name:"Pointer",fill_size:!0,external_scripts:["/board-ui/plugins/thirdparty/raphael.2.1.0.min.js"],settings:[{name:"direction",display_name:"Direction",type:"calculated",description:"In degrees"},{name:"value_text",display_name:"Value Text",type:"calculated"},{name:"units",display_name:"Units",type:"text"}],newInstance:function(e,i){i(new t(e))}}),freeboard.addStyle("div.pointer-value","position:absolute;height:95px;margin:auto;top: 0px;bottom: 0px;width: 100%;text-align:center;");var t=function(t){function e(t){if(!t||t.length<2)return[];var e=[];e.push(["m",t[0],t[1]]);for(var i=2;i<t.length;i+=2)e.push(["l",t[i],t[i+1]]);return e.push(["z"]),e}var i,n,a,r,s=3,d=0,o=$('<div class="widget-big-text"></div>'),l=$("<div></div>");this.render=function(t){a=$(t).width(),r=235;var d=Math.min(a,r)/2-2*s;i=Raphael($(t).get()[0],a,r);var p=i.circle(a/2,r/2,d);p.attr("stroke","#FF9900"),p.attr("stroke-width",s),n=i.path(e([a/2,r/2-d+s,15,20,-30,0])),n.attr("stroke-width",0),n.attr("fill","#fff"),$(t).append($('<div class="pointer-value"></div>').append(o).append(l))},this.onSettingsChanged=function(t){l.html(t.units)},this.onCalculatedValueChanged=function(t,e){if("direction"==t){if(!_.isUndefined(n)){n.animate({transform:"r"+e+","+a/2+","+r/2},250,"bounce")}d=e}else"value_text"==t&&o.html(e)},this.onDispose=function(){},this.getHeight=function(){return 4},this.onSettingsChanged(t)}}();